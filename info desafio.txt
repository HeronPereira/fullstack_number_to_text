Info sobre os mÃ©todos utilizados

ğŸ”¹ 1ï¸âƒ£ socket
CriaÃ§Ã£o de um novo socket (ponto final de comunicaÃ§Ã£o).

ğŸ”¸ Assinatura:

c++
Copiar
Editar
int socket(int domain, int type, int protocol);
ğŸ”¸ Argumentos:

domain: Especifica a famÃ­lia de endereÃ§os (ex: AF_INET para IPv4).

type: Tipo de socket (ex: SOCK_STREAM para TCP, SOCK_DGRAM para UDP).

protocol: Protocolo especÃ­fico (0 para padrÃ£o do type escolhido).

ğŸ”¸ Retorno:

Um inteiro (descritor de socket, tipo "ID do ponto de comunicaÃ§Ã£o").

Retorna -1 se falhar (ex: erro na criaÃ§Ã£o do socket).

ğŸ”¸ O que faz:
Configura um socket novo (sem conexÃ£o ainda), que servirÃ¡ como "telefone" para enviar/receber dados.

ğŸ”¹ 2ï¸âƒ£ bind
Associa um socket a um endereÃ§o (IP e porta).

ğŸ”¸ Assinatura:

c++
Copiar
Editar
int bind(int sockfd, const struct sockaddr *addr, socklen_t addrlen);
ğŸ”¸ Argumentos:

sockfd: O socket (descritor) criado pelo socket().

addr: Estrutura sockaddr contendo o IP e a porta a associar.

addrlen: Tamanho da estrutura addr.

ğŸ”¸ Retorno:

0 se deu certo, -1 se falhou.

ğŸ”¸ O que faz:
"Reserva" o endereÃ§o e a porta especificados para aquele socket, como se dissesse "quero atender na porta 8080".

ğŸ”¹ 3ï¸âƒ£ listen
Coloca o socket no modo "escuta" (aguardando conexÃµes).

ğŸ”¸ Assinatura:

c++
Copiar
Editar
int listen(int sockfd, int backlog);
ğŸ”¸ Argumentos:

sockfd: O socket que foi associado com bind().

backlog: Quantas conexÃµes simultÃ¢neas podem ficar na fila de espera.

ğŸ”¸ Retorno:

0 se deu certo, -1 se falhou.

ğŸ”¸ O que faz:
Diz ao sistema: "Agora estou pronto para aceitar conexÃµes neste socket".

ğŸ”¹ 4ï¸âƒ£ accept
Aceita uma conexÃ£o de um cliente e cria um novo socket para ela.

ğŸ”¸ Assinatura:

c++
Copiar
Editar
int accept(int sockfd, struct sockaddr *addr, socklen_t *addrlen);
ğŸ”¸ Argumentos:

sockfd: O socket em modo escuta (listen).

addr: (opcional) Preenche com o endereÃ§o do cliente conectado.

addrlen: (opcional) Tamanho da estrutura addr.

ğŸ”¸ Retorno:

Um novo socket para se comunicar com aquele cliente especÃ­fico.

Retorna -1 se falhou.

ğŸ”¸ O que faz:
Aceita uma conexÃ£o e cria um "canal exclusivo" para aquele cliente.

ğŸ”¹ 5ï¸âƒ£ select
Espera por eventos (ex: dados prontos para leitura) em mÃºltiplos sockets.

ğŸ”¸ Assinatura:

c++
Copiar
Editar
int select(int nfds, fd_set *readfds, fd_set *writefds, fd_set *exceptfds, struct timeval *timeout);
ğŸ”¸ Argumentos:

nfds: Maior nÃºmero de descritor + 1 (limite do que observar).

readfds: Conjunto de descritores a observar para leitura.

writefds: Conjunto para escrita (nÃ£o usamos normalmente).

exceptfds: Conjunto para exceÃ§Ãµes (nÃ£o usamos normalmente).

timeout: Quanto tempo esperar (pode ser NULL para esperar indefinidamente).

ğŸ”¸ Retorno:

NÃºmero de descritores "prontos", 0 se timeout, -1 se erro.

ğŸ”¸ O que faz:
Verifica quem estÃ¡ pronto (quem tocou a campainha), podendo monitorar vÃ¡rios sockets ao mesmo tempo.

ğŸ”¹ 6ï¸âƒ£ read
LÃª dados de um socket (ou outro descritor de arquivo).

ğŸ”¸ Assinatura:

c++
Copiar
Editar
ssize_t read(int fd, void *buf, size_t count);
ğŸ”¸ Argumentos:

fd: Descritor de onde ler (socket do cliente, por exemplo).

buf: Buffer onde os dados lidos serÃ£o armazenados.

count: Quantos bytes tentar ler.

ğŸ”¸ Retorno:

NÃºmero de bytes lidos, 0 se conexÃ£o fechada, -1 se erro.

ğŸ”¸ O que faz:
LÃª dados enviados pelo cliente para o servidor (ou vice-versa).

ğŸ”¹ 7ï¸âƒ£ FD_ISSET
Verifica se um descritor estÃ¡ "pronto" no conjunto do select().

ğŸ”¸ Assinatura:

c++
Copiar
Editar
int FD_ISSET(int fd, fd_set *set);
ğŸ”¸ Argumentos:

fd: Descritor de socket.

set: Conjunto fd_set configurado no select().

ğŸ”¸ Retorno:

NÃ£o zero se fd estÃ¡ pronto.

Zero se nÃ£o estÃ¡ pronto.

ğŸ”¸ O que faz:
Diz: "O cliente X mandou algo ou ficou pronto?".


# Central System Server (Desafio TÃ©cnico)

Este projeto implementa um **servidor TCP** (POSIX) em C++ capaz de receber conexÃµes simultÃ¢neas de sensores, registrar os dados recebidos e gerenciar as conexÃµes com eficiÃªncia e seguranÃ§a.

## Funcionalidades
- Aceita conexÃµes TCP de mÃºltiplos clientes (sensores) na porta **4000**.
- Recebe mensagens no formato JSON e grava em um arquivo **SensorData.log** com o formato:
<ip>:<mensagem>

markdown
Copiar
Editar
- Gerencia conexÃµes simultÃ¢neas usando **multithreading** (`std::thread`).
- Encerra conexÃµes de clientes inativos apÃ³s **60 segundos**.
- Permite finalizaÃ§Ã£o limpa (Ctrl+C) usando tratamento de sinais (`SIGINT`).

##  ConstruÃ§Ã£o
###  Requisitos
- C++17 ou superior
- CMake (versÃ£o 3.13 ou superior)
- Compilador compatÃ­vel com POSIX (Linux recomendado)

###  Passos
1ï¸âƒ£ Clone o repositÃ³rio:
```bash
git clone <repositÃ³rio>
cd challenge_heron
2ï¸âƒ£ Configure e construa:

bash
Copiar
Editar
mkdir build
cd build
cmake ..
make
3ï¸âƒ£ Execute:

./CentralSystem
 Estrutura do Projeto

challenge_heron/
â”œâ”€â”€ CMakeLists.txt
â”œâ”€â”€ include/
â”‚   â”œâ”€â”€ Server.hpp
â”‚   â””â”€â”€ LogWriter.hpp
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ CentralSystem.cpp
â”‚   â”œâ”€â”€ Server.cpp
â”‚   â””â”€â”€ LogWriter.cpp
â”œâ”€â”€ SensorData.log (gerado na execuÃ§Ã£o)
â”œâ”€â”€ .clang-format (configuraÃ§Ã£o do estilo)
â””â”€â”€ README.md

## SeguranÃ§a e ConcorrÃªncia
Escrita no arquivo protegida por std::mutex para evitar corrupÃ§Ã£o por mÃºltiplas threads.


##Estilo de CÃ³digo
Configurado com .clang-format para seguir as melhores prÃ¡ticas de formataÃ§Ã£o e legibilidade.

Extensibilidade
ModularizaÃ§Ã£o com classes facilita a adiÃ§Ã£o de novos recursos, como autenticaÃ§Ã£o, criptografia ou novos formatos de armazenamento.

Testes e ContribuiÃ§Ãµes
Testes unitÃ¡rios e Docker ainda podem ser adicionados para garantir robustez e portabilidade.

Pull requests e contribuiÃ§Ãµes sÃ£o bem-vindas!

Autor
Desafio tÃ©cnico desenvolvido por [Seu Nome].

go
Copiar
Editar


Para dar build no docker
sudo docker build -t central-system .

Para rodar a imagem:
sudo docker run -p 4000:4000 central-system

ver o container:
 sudo docker container ls
 
acessar o container:
sudo docker exec -it <container ID> /bin/bash

instalar docker


pinheira - palhoÃ§a

15 reais por exame

era para ser 2

2022 pra frente

portal transparencia


---------- Estrutura do video campanha do agasalho ----------

intro com mÃºsica 3 a 5 segundos focando em demonstrar o esforÃ§o e resultado da aÃ§Ã£o
(mÃºsica animada, suave de sucesso)

ApresentaÃ§Ã£o dos porta-vozes e explicaÃ§Ã£o do que ta rolando (fala explicita deles, takes de carregando as roupas, chegando no local)

ApresentaÃ§Ã£o da ong ( o que faz, quem quiser ajudar, contato)

take de separaÃ§Ã£o das roupas e mais trabalho dos porta-vozes

mensagens de cada um se fizer sentido

(talvez: take consciencia: cuidando dos filhos enquanto ajuda a comunidade)

take final 